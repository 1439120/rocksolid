

<div class="menu-bar d-flex align-items-center justify-content-between gap-4 m-1 shadow-sm bg-light rounded-pill">
    @foreach (var item in MenuItems)
    {
        <button class="menu-item d-flex align-items-center justify-content-center gap-3 p-3 w-100 py-1 b-0 rounded-pill"
                style="@GetActiveMenu(item)" @onclick="()=>OnClickMenu(item)">
            <Icon Name="@item.iconName" />
            <span class="fw-bold">@item.Name</span>
        </button>
    }
</div>

@code{
    [Parameter] 
    public List<MenuItem> MenuItems{get; set;} = [];

    [Parameter] public EventCallback<MenuItem> OnMenuSelected { get; set; }
    
    string GetActiveMenu(MenuItem menu){
        string className = "border: none; color: #555; text-decoration: none; transition: all 0.2s ease-in-out;";
        if(menu.Active) className += "background-color: #007bff; color: #fff; font-size: 1.3rem;";
        return className;
    }

    private async Task OnClickMenu(MenuItem menu){
        foreach(var item in MenuItems){
            item.Active = false;
        }
        menu.Active = true;

        await OnMenuSelected.InvokeAsync(menu);
    }

}